<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">
    
<!-- 

== CMS Forward Pixels Geometry Phase 1 ==


Author:  Pratima Jindal, Purdue University Calumet
         July 2009

== Subsystem or component described by the file ==

Forward Pixels Inner disk.

== Root volume and its reference frame ==

Two root volumes are defined: 

  PixelForwardDiskZPlus   (Disks for Z+ endcap)
  PixelForwardDiskZMinus  (Disks for Z- endcap)

X horizontal<br>
Y vertical pointing up<br>
Z along the beam line perpendicular to the disk plane, points away from IP<br>

Origin at the center of the disk.<br>

== Positioning ==

Anchor point coincides with the root reference frame origin.
Disks are positioned into endcaps without any rotations.
  
 -->


<ConstantsSection label="Input" eval="true">

  <Constant name="InnerRingRMin"        value="44.3*mm"/>
  <Constant name="InnerRingRMax"        value="45.0*mm"/>
  <Constant name="InnerRingHalfWidth"   value="15.0*mm"/>

  <Constant name="OuterRingRMin"        value="[InnerRingRMax]+[pixfwdblade:WedgeSideL]"/>
  <Constant name="OuterRingRMax"        value="[OuterRingRMin]+3.0*mm"/>
  <Constant name="OuterRingHalfWidth"   value="15.0*mm"/>


</ConstantsSection>

<!-- Disk root -->

<ConstantsSection label="pixfwdInnerDisk.xml" eval="true">
 <Constant name="DiskRmin"         value="[InnerRingRMin]"/>
 <Constant name="DiskRmax"         value="[OuterRingRMax]"/>
 <Constant name="DiskHalfWidth"    value="[OuterRingHalfWidth]"/> 
</ConstantsSection>
 

<SolidSection label="pixfwdInnerDisk.xml">
<Tubs name="PixelForwardInnerDisk" rMin="[DiskRmin]" rMax="[DiskRmax]" dz="[DiskHalfWidth]" startPhi="0." deltaPhi="360*deg" /> 
</SolidSection>
 
<LogicalPartSection label="pixfwdInnerDisk.xml">
 <LogicalPart name="PixelForwardInnerDiskZPlus" category="envelope">
  <rSolid name="PixelForwardInnerDisk"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="PixelForwardInnerDiskZMinus" category="envelope">
  <rSolid name="PixelForwardInnerDisk"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
</LogicalPartSection>

<!-- Support rings -->
 
<SolidSection label="Rings">
  <Tubs name="PixelForwardInnerDiskInnerRing" rMin="[InnerRingRMin]" rMax="[InnerRingRMax]" dz="[InnerRingHalfWidth]" startPhi="0." deltaPhi="360*deg" />

  <Tubs name="PixelForwardInnerDiskOuterRing" rMin="[OuterRingRMin]" rMax="[OuterRingRMax]" dz="[OuterRingHalfWidth]" startPhi="0." deltaPhi="360*deg" />

</SolidSection>
 
<LogicalPartSection label="Rings">

  <LogicalPart name="PixelForwardInnerDiskInnerRing" category="support">
    <rSolid name="PixelForwardInnerDiskInnerRing"/>
    <rMaterial name="materials:Aluminium"/>
  </LogicalPart>
  

  <LogicalPart name="PixelForwardInnerDiskOuterRing" category="support">
    <rSolid name="PixelForwardInnerDiskOuterRing"/>
    <rMaterial name="materials:Aluminium"/>
  </LogicalPart>
  

</LogicalPartSection>


<PosPartSection label="Rings">


  <!-- Z Plus Disk -->

  <PosPart copyNumber="1">
    <rParent name="PixelForwardInnerDiskZPlus"/>
    <rChild name="PixelForwardInnerDiskInnerRing"/>
  </PosPart>
 

  <PosPart copyNumber="1">
    <rParent name="PixelForwardInnerDiskZPlus"/>
    <rChild name="PixelForwardInnerDiskOuterRing"/>
  </PosPart>
 

  <!-- Z Minus Disk -->

  <PosPart copyNumber="1">
    <rParent name="PixelForwardInnerDiskZMinus"/>
    <rChild name="PixelForwardInnerDiskInnerRing"/>
  </PosPart>
 

  <PosPart copyNumber="1">
    <rParent name="PixelForwardInnerDiskZMinus"/>
    <rChild name="PixelForwardInnerDiskOuterRing"/>
  </PosPart>
 

 
</PosPartSection>


<!-- Blades -->

  <!-- Z Plus Disk -->

<Algorithm name="track:DDPixFwdInnerDisks">
  <rParent name="pixfwdInnerDisk:PixelForwardInnerDiskZPlus"/>
  <Numeric name="Endcap"   value="1." />
  <String  name="Child"    value="pixfwdblade:PixelForwardBlade"/>
</Algorithm>

  <!-- Z Minus Disk -->
 
<Algorithm name="track:DDPixFwdInnerDisks">
  <rParent name="pixfwdInnerDisk:PixelForwardInnerDiskZMinus"/>
  <Numeric name="Endcap"   value="-1." />
  <String  name="Child"    value="pixfwdblade:PixelForwardBlade"/>
  <String  name="ChildRotation"    value="pixfwdCommon:ReflectionX"/>
</Algorithm>


</DDDefinition>
