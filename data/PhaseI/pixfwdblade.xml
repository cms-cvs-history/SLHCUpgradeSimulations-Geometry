<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<!-- 

== CMS Forward Pixels Geometry Phase 1 ==


Author:  Pratima Jindal, Purdue University Calumet
         July 2009

== Subsystem or component described by the file ==

Pixel Forward Blade

-->

<ConstantsSection label="pixfwdblade.xml" eval="true">
 <Constant name="SensitiveW"         value="16.216*mm"/>
 <Constant name="SensitiveL"         value="64.816*mm"/>
 <Constant name="SideWidth"          value="1.164*mm"/>
 <Constant name="SideGap"            value="0.291*mm"/>
 <Constant name="WedgeAngle"         value="100*mrad"/>
 <Constant name="WedgeSideL"         value="71.2*mm"/>
 <Constant name="WedgeH"             value="[WedgeSideL]*cos([WedgeAngle])"/>
 <Constant name="WedgeBot"           value="2*(([SensitiveW]+[SideWidth]+[SideGap])*cos([WedgeAngle])-([SensitiveL]+[SideWidth]-[SideGap]*tan([WedgeAngle]))*sin([WedgeAngle]))"/>
 <Constant name="WedgeTop"           value="[WedgeBot]+2*[WedgeSideL]*sin([WedgeAngle])"/>
 <Constant name="WedgeThick"         value="2.7*mm"/>
 <Constant name="WaferL"             value="[SensitiveL]+2*[SideWidth]"/>
 <Constant name="WaferW"             value="[SensitiveW]+2*[SideWidth]"/>
 <Constant name="WaferT"             value="0.270*mm"/>
 <Constant name="WaferX"             value="0.5*([WedgeBot]+[WaferL]*sin([WedgeAngle])-[WaferW]*cos([WedgeAngle]))-[SideGap]/cos([WedgeAngle])"/>
 <Constant name="WaferY"             value="0.5*([WaferL]/cos([WedgeAngle])-[WedgeH]+([WaferW]-[WaferL]*tan([WedgeAngle]))*sin([WedgeAngle]))"/>
 <Constant name="WaferZ"             value="0.896*mm"/>
 <Constant name="ROChipL"            value="8.005*mm"/>    <!-- Readout chip length -->
 <Constant name="ROChipW"            value="10.735*mm"/>   <!-- Readout chip width -->
 <Constant name="ROChipT"            value="0.200*mm"/>    <!-- Readout chip thickness -->
 <Constant name="ROChipSpaceL"       value ="0.074*mm"/>   <!-- Distance (along length) between adjacent chips -->
 <Constant name="ROChipSpaceW"       value ="0.084*mm"/>   <!-- Distance (along width) between  adjacent chips -->
 <Constant name="ROChipX"            value ="[ROChipW]/2.+[ROChipSpaceW]/2."/>   <!-- Distance (along width) between center of wafer and ROChips -->
 <Constant name="ROChipZ"            value ="[ROChipT]/2.+[WaferT]/2.+0.011*mm"/>   <!-- Distance (along Z) between center of wafer and ROChips -->


</ConstantsSection>

<SolidSection label="pixfwdblade.xml">
  <Trapezoid name="PixelForwardBlade"  dz="[WedgeThick]/2"
       bl1="[WedgeBot]/2." bl2="[WedgeBot]/2." h1="[WedgeH]/2."
       tl1="[WedgeTop]/2." tl2="[WedgeTop]/2." h2="[WedgeH]/2."
       alp1="0*deg"        alp2="0*deg"        theta="0*deg"   phi="0*deg" />
  <Box name="PixelForwardWafer"  dx="[WaferW]/2"     dy="[WaferL]/2" 
                                 dz="[WaferT]/2" />
  <Box name="PixelForwardSensor" dx="[SensitiveW]/2" dy="[SensitiveL]/2"
                                 dz="[WaferT]/2" />
  <Box name="PixelForwardROChip"    dx="[ROChipW]/2" dy="[ROChipL]/2"
                                 dz="[ROChipT]/2" />

</SolidSection>

<LogicalPartSection label="pixfwdblade.xml">
 <LogicalPart name="PixelForwardBlade" category="unspecified">
  <rSolid name="PixelForwardBlade"/>
  <rMaterial name="materials:Air"/>
 </LogicalPart>
 <LogicalPart name="PixelForwardWafer" category="unspecified">
  <rSolid name="PixelForwardWafer"/>
  <rMaterial name="materials:Silicon"/>
 </LogicalPart>
 <LogicalPart name="PixelForwardSensor" category="sensitive">
  <rSolid name="PixelForwardSensor"/>
  <rMaterial name="materials:Silicon"/>
 </LogicalPart>
 <LogicalPart name="PixelForwardROChip" category="unspecified">
  <rSolid name="PixelForwardROChip"/>
  <rMaterial name="materials:Silicon"/>
 </LogicalPart>
</LogicalPartSection>


<RotationSection label="pixfwdblade.xml">
  <Rotation name="R100A" thetaX="90*deg"  phiX="[WedgeAngle]"  thetaY="90*deg"
                         phiY="90*deg+[WedgeAngle]" thetaZ="0*deg" phiZ="0*deg"/>
  <Rotation name="R100C" thetaX="90*deg"  phiX="-[WedgeAngle]" thetaY="90*deg"
                         phiY="90*deg-[WedgeAngle]" thetaZ="0*deg" phiZ="0*deg"/>
</RotationSection>

<PosPartSection label="pixfwdblade.xml">
 <PosPart copyNumber="1">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardWafer"/>
  <Translation x="[WaferX]"  y="[WaferY]"  z="[WaferZ]" />
  <rRotation name="pixfwdblade:R100C"/>
 </PosPart>
 <PosPart copyNumber="2">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardWafer"/>
  <Translation x="-[WaferX]" y="[WaferY]" z="-[WaferZ]" />
  <rRotation name="pixfwdblade:R100A"/>
 </PosPart>
 <PosPart copyNumber="1">
  <rParent name="pixfwdblade:PixelForwardWafer"/>
  <rChild name="pixfwdblade:PixelForwardSensor"/>
 </PosPart>
 <PosPart copyNumber="1">
  <rParent name="pixfwdblade:PixelForwardSensor"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="3.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="2">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="2.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="3">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="1.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="4">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="0.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="5">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="-(0.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="6">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="-(1.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="7">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="-(2.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="8">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="-[ROChipX]" y="-(3.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="9">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="3.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="10">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="2.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="11">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="1.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="12">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="0.5*([ROChipL]+[ROChipSpaceL])" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="13">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="-(0.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="14">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="-(1.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="15">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="-(2.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
 <PosPart copyNumber="16">
  <rParent name="pixfwdblade:PixelForwardBlade"/>
  <rChild name="pixfwdblade:PixelForwardROChip"/>
  <Translation x="[ROChipX]" y="-(3.5*([ROChipL]+[ROChipSpaceL]))" z="-[ROChipZ]" />
 </PosPart>
</PosPartSection>

</DDDefinition>
